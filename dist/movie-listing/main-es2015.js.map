{"version":3,"sources":["./src/app/services/util.service.ts","./src/environments/environment.ts","./src/app/components/main/main.component.ts","./src/app/components/main/main.component.html","./src/app/services/request-cache.service.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/services/db.service.ts","./src/app/services/caching-Interceptor.ts","./src/app/app-routing.module.ts","./src/main.ts","./$_lazy_route_resource lazy namespace object"],"names":[],"mappings":"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","file":"main-es2015.js","sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UtilService {\n\n  constructor() { }\n\n  sortBy(collection: any[], col: string, dir: number): any[] {\n    collection = [...collection].sort((a: any, b: any) => {\n        let aVal: any;\n        let bVal: any;\n\n        aVal = a[col];\n        bVal = b[col];\n\n        if (this.isString(aVal)) { aVal = aVal.trim().toUpperCase(); }\n        if (this.isString(bVal)) { bVal = bVal.trim().toUpperCase(); }\n\n        if (aVal === bVal) {\n            return 0;\n        }\n        else if (aVal > bVal) {\n            return dir * -1;\n        }\n        else {\n            return dir * 1;\n        }\n    });\n    return collection;\n  }\n\n  isString(val: any): boolean {\n      return (val && (typeof val === 'string' || val instanceof String));\n  }\n}\n","\nexport const environment = {\n  production: false,\n  endPoint: 'http://localhost:3000',\n};\n\n","import { Component, OnInit } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { filter } from 'rxjs/operators';\nimport { Genre } from 'src/app/model/genre';\nimport { Movie, MovieList } from 'src/app/model/movie';\nimport { DbService } from 'src/app/services/db.service';\nimport { UtilService } from 'src/app/services/util.service';\n\n@Component({\n  selector: 'app-main',\n  templateUrl: './main.component.html',\n  styleUrls: ['./main.component.scss']\n})\nexport class MainComponent implements OnInit {\n\n  public subscription: Subscription = new Subscription();\n  public genreList: Genre[] = [];\n  public movieList: MovieList;\n  public displayList: Movie[] = [];\n  public isDefault = true;\n  public direction = -1;\n  public columnSelected = 'popularity';\n  public genreIds:number[] = [];\n  public rate = 2;\n  gridsize: number = 1;\n\n  constructor(\n    private dbService: DbService,\n    private utilService: UtilService,\n    ) \n    { }\n\n  ngOnInit(): void {\n    this.loadMovies();\n    this.loadGenres();\n  }\n\n  loadMovies(): void {\n    this.subscription.add(this.dbService.getAllMovies()\n      .pipe(filter(items => !! items))\n      .subscribe((items: MovieList) => {\n        this.movieList = items;\n        console.log('items', items.results)\n        if(this.isDefault) {\n          this.displayList = this.utilService.sortBy(items.results, this.columnSelected, this.direction);\n          console.log('this.displayList', this.displayList)\n          \n        }\n      }));\n  }\n\n  loadGenres(): void {\n    this.subscription.add(this.dbService.getGenres()\n      .pipe(filter(items => !! items))\n      .subscribe((items: Genre[]) => {\n        this.genreList = items;\n        console.log('genres', items)\n      }));\n  }\n\n  addRemoveToFilter(id: number): void {\n    const obj = this.genreIds.find(item => item === id);\n    if(obj) {\n      const ids = this.genreIds.filter(item => item !== id);\n      this.genreIds = [];\n      this.genreIds = ids;\n    } else {\n      this.genreIds.push(id);\n    }\nconsole.log('this.genreIds', this.genreIds)\n    this.filterMovieList();\n  }\n\n  filterMovieList(): void {\n    const temp = this.utilService.sortBy(this.movieList.results, this.columnSelected, this.direction);\n    if(this.genreIds.length > 0) {\n      this.displayList = [];\n      this.displayList = temp.filter(item => item.genre_ids.some(i => this.genreIds.includes(i)));\n      this.displayList = this.displayList.filter(item => item.vote_average >= this.rate);\n    }\n\n  }\n\n  filterRate(rate: number): void {\n    this.rate = rate;\n    if(this.displayList.length > 0) {\n      this.filterMovieList();\n      const temp = this.displayList;\n      this.displayList = [];\n      this.displayList = temp.filter(item => item.vote_average >= rate);\n    }\n  }\n\n  getGenreById(id: number): string {\n    return this.genreList.find(item => item.id === id) ? this.genreList.find(item => item.id === id).name : '';\n  }\n\n  resetFilter(): void {\n    this.displayList = this.utilService.sortBy(this.movieList.results, this.columnSelected, this.direction);\n  }\n\n  counter(i: string): number[] {\n    return new Array(parseInt(i));\n  }\n\n  floorNumber(i: number): number {\n    return Math.floor(i);\n  }\n\n  \n  updateSetting(event) {\n    this.gridsize = event.value;\n  }\n\n}\n","\n<div>\n\t<span>Grid Size (px): </span><b class=\"gridSizeValue\">{{gridsize.value}}</b>\n</div>\n<mat-slider #gridsize (change)=\"updateSetting($event)\" step=\"1\" min=\"1\" max=\"10\" [value]=\"gridsize\"></mat-slider>\n\n\n<!-- <button (click)=\"addRemoveToFilter(28)\">Add Action</button>\n<button (click)=\"addRemoveToFilter(12)\">Add Adventure</button>\n<button (click)=\"addRemoveToFilter(16)\">Add Animation</button>\n<button (click)=\"addRemoveToFilter(80)\">Add Crime</button>\n\n<button (click)=\"filterRate(3.2)\">Low avarage</button>\n<button (click)=\"filterRate(5.4)\">Mediem avarage</button>\n<button (click)=\"filterRate(7.1)\">High avarage</button> -->\n\n<!-- <div class=\"card-wrapper\">\n    <div *ngFor=\"let item of displayList\" style=\"display: inline-block;\">\n        <mat-card class=\"card-container\">\n            <img mat-card-image  src=\"../../../assets/images{{item.poster_path}}\" alt=\"item.title\" class=\"img-card\">\n            <mat-card-content>\n                <mat-card-title class=\"title-card\">{{item.title}}</mat-card-title>\n                <mat-divider></mat-divider>\n                <ul class=\"genre-container\">\n                    <li *ngFor=\"let genre of item.genre_ids\" class=\"genre-card\">{{getGenreById(genre)}},</li>\n                </ul>\n    \n            </mat-card-content>\n            <mat-card-actions>\n                <div class=\"rate-container\">\n                    <span class=\"rate-title\">Rate:</span>\n                    <span class=\"material-icons rate-stars\" *ngFor=\"let in of counter(item.vote_average) ;let i = index\">star_rate</span>\n                    <span *ngIf=\"item.vote_average % floorNumber(item.vote_average) > 0\" class=\"material-icons rate-stars\">star_half</span>\n                </div>\n              \n            </mat-card-actions>\n        </mat-card>\n    </div>\n</div> -->\n","import { HttpRequest, HttpResponse } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\n\nconst maxAge = 30000;\n@Injectable({\n    providedIn: 'root'\n  })\nexport class RequestCacheService  {\n\n  cache = new Map();\n\n  get(req: HttpRequest<any>): HttpResponse<any> | undefined {\n    const url = req.urlWithParams;\n    const cached = this.cache.get(url);\n    if (!cached) {\n      return undefined;\n    }\n    return cached.response;\n  }\n\n  put(req: HttpRequest<any>, response: HttpResponse<any>): void {\n    const url = req.url;\n    const newUrl  = this.buildCachedUrl(url);\n    const entry = { url, response, lastRead: Date.now() };\n    this.cache.forEach(expiredEntry => {\n      const oldUrl = this.buildCachedUrl(expiredEntry.url);\n      if (newUrl === oldUrl) {\n          this.cache.delete(expiredEntry.url);\n        }\n      });\n\n    this.cache.set(url, entry);\n  }\n\n  private buildCachedUrl(url: string): string {\n    const temp = url.split('&');\n    return `${temp[0]}`;\n  }\n}","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n  title = 'movie-listing';\n}\n","\n<router-outlet></router-outlet>","import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { MainComponent } from './components/main/main.component';\nimport { HttpClientModule, HTTP_INTERCEPTORS } from '@angular/common/http';\nimport { CachingInterceptor } from './services/caching-Interceptor';\nimport { MatSliderModule } from '@angular/material/slider';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    MainComponent\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    BrowserAnimationsModule,\n    HttpClientModule,\n    MatSliderModule\n  ],\n  providers: [\n    { provide: HTTP_INTERCEPTORS, useClass: CachingInterceptor, multi: true }\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { environment } from 'src/environments/environment';\nimport { Observable } from 'rxjs';\nimport { map, catchError, filter } from 'rxjs/operators';\nimport { MovieList } from '../model/movie';\nimport { Genre } from '../model/genre';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DbService {\n\n  public api = environment.endPoint;\n  public errorMessage = '';\n  \n  constructor(\n    private http: HttpClient) \n    {}\n\n    getAllMovies(): Observable<MovieList> {\n      return this.http.get<MovieList>(`${this.api}/movies`)\n                  .pipe(filter(items => !!items), map((items: MovieList) => items));\n    }\n\n    getGenres(): Observable<Genre[]> {\n      return this.http.get<Genre[]>(`${this.api}/genres`)\n                  .pipe(filter(items => !!items), map((items: Genre[]) => items));\n    }\n\n}\n","import { Injectable } from '@angular/core';\nimport { HttpEvent, HttpRequest, HttpResponse, HttpInterceptor, HttpHandler } from '@angular/common/http';\nimport { Observable, of } from 'rxjs';\nimport { tap } from 'rxjs/operators';\nimport { RequestCacheService } from './request-cache.service';\n\n@Injectable()\nexport class CachingInterceptor implements HttpInterceptor {\n  constructor(private cache: RequestCacheService) {}\n\n  intercept(req: HttpRequest<any>, next: HttpHandler) {\n    console.log(\"inside\")\n    req = req.clone({\n        setHeaders: {\n          'Access-Control-Allow-Credentials' : 'true',\n          'Access-Control-Allow-Origin':'*',\n          'Access-Control-Allow-Methods':'GET',\n          'Access-Control-Allow-Headers':'application/json'\n        } \n      });\nconsole.log(\"req\", req)\n    const cachedResponse = this.cache.get(req);\n    return cachedResponse ? of(cachedResponse) : this.sendRequest(req, next, this.cache);\n  }\n  \n  sendRequest(\n    req: HttpRequest<any>,\n    next: HttpHandler,\n    cache: RequestCacheService): Observable<HttpEvent<any>> {\n\n    return next.handle(req).pipe(\n      tap(event => {\n        if (event instanceof HttpResponse) {\n          event = event.clone({\n            headers: event.headers.set('Access-Control-Allow-Origin', '*')\n          });\n          cache.put(req, event);\n        }\n      })\n    );\n  }\n}","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { MainComponent } from './components/main/main.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    redirectTo: 'main',\n    pathMatch: 'full'\n  },\n  {\n    path: 'main',\n    component: MainComponent\n  },\n  {\n    path: '**',\n    redirectTo: 'main',\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"],"sourceRoot":"webpack:///"}